/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * User Manual available at https://docs.gradle.org/6.2.2/userguide/java_library_plugin.html
 */




plugins {
    // Apply the java-library plugin to add support for Java Library
    id 'java-library'
   	id "org.springframework.boot" version "2.0.1.RELEASE"
    id 'io.spring.dependency-management' version '1.0.8.RELEASE'
    id 'checkstyle'
    id 'com.github.spotbugs' version '4.0.5'
    id 'java-gradle-plugin'
}

//java {
    //sourceCompatibility = JavaVersion.VERSION_1_8
  //  targetCompatibility = JavaVersion.VERSION_1_8
//}


repositories {
    // Use jcenter for resolving dependencies.
    // You can declare any Maven/Ivy/file repository here.
    //jcenter()
    mavenCentral()
}

dependencies {
    // This dependency is exported to consumers, that is to say found on their compile classpath.
    api 'org.apache.commons:commons-math3:3.6.1'

    // This dependency is used internally, and not exposed to consumers on their own compile classpath.
    implementation 'com.google.guava:guava:28.1-jre'
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation group: 'org.slf4j', name:'slf4j-api', version: '1.7.2'
   

    // Use JUnit test framework
    testImplementation 'junit:junit:4.12'
}
checkstyle {
    configFile file('mycheckstyle.xml')
    toolVersion '8.21'             // set Checkstyle version here
}

checkstyleMain {
    source ='src/main/java'
}

task helloLast {
    doLast {
        println 'Hello Gradle'
    }
}
    
class GreetingTask extends DefaultTask {
    @Input
    String greeting = 'hello from GreetingTask'

    @TaskAction
    def greet() {
        println greeting
    }
}

// Use the default greeting
task hello(type: GreetingTask)

// Customize the greeting
task greeting(type: GreetingTask) {
    greeting = 'greetings from GreetingTask'
}

class Greeting extends DefaultTask {  
    String message 
    String recipient

    @TaskAction 
    void sayGreeting() {
        println "${message}, ${recipient}!" 
    }
}

tasks.register("hellogreeting", Greeting) { 
    group = 'Welcome'
    description = 'Produces a world greeting'
    message = 'Hello' 
    recipient = 'World'
}

tasks.register("gutenTag", Greeting) {
    group = 'Welcome'
    description = 'Produces a German greeting'
    message = 'Guten Tag'
    recipient = 'Welt'
}

//binaryRepo {
  //  serverUrl = 'http://my.company.com/maven2'
//}